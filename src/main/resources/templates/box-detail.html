<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>갤러리 상세보기</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/box_detail_style.css">
</head>
<body>
    <div class="container mt-4">
        <h1 th:text="${box.name}" class="text-center">갤러리명 (예: 스키 모임)</h1>

        <div class="d-flex align-items-center gap-3 mb-3">
            <button id="select-all-btn" class="btn btn-outline-dark">전체 선택</button>
            <button id="upload-btn" class="btn btn-secondary" th:data-bid="${box.bid}">업로드</button>
            <button id="download-btn" class="btn btn-primary" th:data-bid="${box.bid}" disabled>다운로드</button>
            <button id="edit-btn" class="btn btn-info ms-2" th:onclick="|window.location.href='/box/' + ${box.bid} + '/edit'|">수정</button>
            <button id="delete-btn" class="btn btn-danger" disabled>삭제</button>
        </div>

        <!-- ✅ Flex 컨테이너 추가 -->
        <div class="d-flex justify-content-between">
            <!-- 이미지 리스트 -->
            <div class="flex-grow-1">
                <div class="row row-cols-3 g-3 text-center">
                    <th:block th:if="${not #lists.isEmpty(images)}">
                        <th:block th:each="image : ${images}">
                            <div class="col">
                                <div class="card gallery-item" th:data-id="${image.pid}">
                                    <img th:src="${image.imageUrl}" class="card-img-top"/>
                                </div>
                            </div>
                        </th:block>
                    </th:block>
                    <p th:if="${#lists.isEmpty(images)}">이미지가 없습니다.</p>
                </div>
            </div>

            <!-- ✅ 회원 초대 & 참여 회원 목록 (오른쪽 정렬) -->
            <div class="ms-auto" style="width: 300px;">
                <button id="invite-btn" class="btn btn-secondary w-100 mb-3" th:data-bid="${box.bid}">회원 초대</button>
                <div class="p-3 border rounded bg-light">
                    <h4 class="mb-3">갤러리 참여한 회원 명단</h4>
                    <ul class="list-group">
                        <li th:each="member : ${box.members}" class="list-group-item" th:text="${member.userName}">회원 이름</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/box_detail_script.js"></script>
</body>
</html>
